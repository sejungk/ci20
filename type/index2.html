<!DOCTYPE html>
<html>
<head>
  <title></title>
  <style>
    body {
      background-color: black;
      overflow-y: hidden;
      overflow-x: hidden;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
</body>
<script>
var a = 1.4;
var b = -1.7;
var c = 1;
var d = 0.9;
var x = 0.0; 
var y = 0.0;
var hue = 0;
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var width = canvas.width = screen.width;
var height = canvas.height = screen.height;
ctx.lineWidth = 0.1;
ctx.stroke();

//create random hue
function changeHue() {
     hue++;
    if (hue > 359) {
      hue = 0;
    }
  ctx.strokeStyle = "hsl(" + hue + ", 100%, 60%)";
}
 setInterval(changeHue, 40);
// plot points
var values = [];
for(var y = 0; y < height; y += 1) {
  values.push({
    x: 0,
    y: y, 
    vx: -10,
    vy: -10,
  })
};
render();
function render() {
  for(var i = 0; i < values.length; i++) {
    var points = values[i];
    var num = getNum(points.x, points.y);
    points.vx += Math.cos(num);
    points.vy += Math.sin(num);
    // move to current position
    ctx.beginPath();
    ctx.moveTo(points.x, points.y);
    // add velocity
    points.x += points.vx;
    points.y += points.vy;
    ctx.lineTo(points.x, points.y);
    ctx.stroke();
    // add friction
    points.vx *= 0.99;
    points.vy *= 0.99;
    // lines stay inside screen
    if(points.x > screen.width) points.x = 0;
    if(points.y > screen.height) points.y = 0;
    if(points.x < 0) points.x = screen.width;
    if(points.y < 0) points.y = screen.height;
  }
  requestAnimationFrame(render);
}

function getNum(x, y) {
  var scale = 0.02;
  y = (y - screen.height / 2)  * scale; 
  x = (x - screen.width / 2) * scale;
  var y1 = Math.sin(b * x) + d * Math.cos(b * y);
  var x1 = Math.sin(a * y) + c * Math.cos(a * x);
  return Math.atan2(y1 - y, x1 - x);
}

function random(min, max) {
  return (Math.random() * (max - min) + min);
}

 window.onkeydown = function(e){
        if(e.keyCode == 49) {
        a = random(-3,-12/5);
        }
        if(e.keyCode == 50) {
        a = random(-12/5, -9/5);
        }
        if(e.keycode == 51) {
        a = random(-9/5,-6/5);
        }
        if(e.keyCode == 52) {
        a = random(-6/5,-3/5);
        }
        if(e.keyCode == 53) {
        a = random(-3/5,0);
        }
        if(e.keyCode == 54) {
        a = random(0,3/5);
        }
        if(e.keycode == 55) {
        a = random(3/5,6/5);
        }
        if(e.keyCode == 56) {
        a = random(6/5, 9/5);
        }
        if(e.keyCode == 57) {
        a = random(9/5,12/5);
        }
        if(e.keyCode == 48) {
        a = random(12/5,3);
        }
        if(e.keyCode == 81) {
        b = random(-3,-12/5);
        }
        if(e.keyCode == 87) {
        b = random(-12/5, -9/5);
        }
        if(e.keycode == 69){
        b = random(-9/5,-6/5);
        }
        if(e.keyCode == 82) {
        b = random(-6/5,-3/5);
        }
        if(e.keyCode == 84) {
        b = random(-3/5,0);
        }
        if(e.keyCode == 89) {
        b = random(0,3/5);
        }
        if(e.keycode == 85){
        b = random(3/5,6/5);
        }
        if(e.keyCode == 73) {
        b = random(6/5, 9/5);
        }
        if(e.keyCode == 79) {
        b = random(9/5,12/5);
        }
        if(e.keyCode == 80) {
        b = random(12/5,3);
        }
        if(e.keyCode == 65) {
        c = random(-3,-7/3);
        }
        if(e.keyCode == 83) {
        c = random(-7/3,-5/3);
        }
        if(e.keycode == 68){
        c = random(-5/3,-1);
        }
        if(e.keyCode == 70) {
        c = random(-1,-1/3);
        }
        if(e.keyCode == 71) {
        c = random(-1/3,1/3);
        }
        if(e.keyCode == 72) {
        c = random(1/3,1);
        }
        if(e.keycode == 74){
        c = random(1,5/3);
        }
        if(e.keyCode == 75) {
        c = random(5/3,7/3);
        }
        if(e.keyCode == 76) {
        c = random(7/3,3);
        }      
        if(e.keyCode == 90) {
        d = random(-3,-15/7);
        }
        if(e.keyCode == 88) {
        d = random(-15/7,-9/7);
        }
        if(e.keycode == 67){
        d = random(-9/7,-3/7);
        }
        if(e.keyCode == 86) {
        d = random(-3/7,3/7);
        }
        if(e.keyCode == 66) {
        d = random(3/7,9/7);
        }
        if(e.keyCode == 78) {
        d = random(9/7,15/7);
        }
        if(e.keycode == 77){
        d = random(15/7,3);
        }
}



</script>
</html>









